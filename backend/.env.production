# GoalTrajectory.AI Backend - Production Environment Configuration
# This file contains production-specific settings and templates
# IMPORTANT: Replace placeholder values with actual production credentials

# Environment
ENVIRONMENT=production
FASTAPI_ENV=production
DEBUG=false
LOG_LEVEL=INFO
RELOAD=false

# Application URLs - REPLACE WITH ACTUAL PRODUCTION URLS
BACKEND_URL=https://api.goaltrajectory.ai
FRONTEND_URL=https://goaltrajectory.ai
CORS_ORIGINS=["https://goaltrajectory.ai", "https://www.goaltrajectory.ai"]

# Database Configuration - REPLACE WITH PRODUCTION DATABASE
DATABASE_URL=postgresql://username:password@production-db-host:5432/goaltrajectory_prod
# Alternative: Use connection pooling
# DATABASE_URL=postgresql://username:password@pgbouncer-host:6543/goaltrajectory_prod

# Supabase Configuration - REPLACE WITH PRODUCTION PROJECT
SUPABASE_URL=https://your-production-project.supabase.co
SUPABASE_ANON_KEY=your_production_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_production_service_role_key_here

# ChromaDB Configuration - Production
CHROMA_HOST=chromadb-service
CHROMA_PORT=8000
CHROMA_PERSIST_DIR=/data/chroma
USE_PERSISTENT_CHROMADB=true
CHROMA_MAX_MEMORY=2GB
CHROMA_LOG_LEVEL=INFO

# Redis Configuration - Production
REDIS_URL=redis://redis-service:6379
REDIS_DB=0
REDIS_MAX_CONNECTIONS=50
REDIS_CONNECTION_POOL_SIZE=20

# Storage Configuration - Production
STORAGE_PROVIDER=supabase
STORAGE_QUOTA_ENABLED=true
MAX_FILE_SIZE=52428800  # 50MB for production

# AI Service Configuration - REPLACE WITH PRODUCTION KEYS
HF_TOKEN=your_production_huggingface_token_here
GEMINI_API_KEY=your_production_gemini_api_key_here
OPENROUTER_API_KEY=your_production_openrouter_api_key_here

# Production AI settings
AI_REQUEST_TIMEOUT=30
AI_MAX_RETRIES=2
AI_RATE_LIMIT_ENABLED=true

# Security Configuration - Production
JWT_SECRET_KEY=your_production_jwt_secret_key_here_minimum_32_characters
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=8
BCRYPT_ROUNDS=12  # Higher for production security

# Rate Limiting - Production
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST=20

# Monitoring and Observability - Production
METRICS_ENABLED=true
HEALTH_CHECK_TIMEOUT=10
PROMETHEUS_METRICS_ENABLED=true
PROMETHEUS_METRICS_PORT=9090

# Production Security
ENABLE_DOCS=false
ENABLE_REDOC=false
ENABLE_OPENAPI=false
ENABLE_PROFILER=false

# Testing Configuration - Production (Disabled)
TEST_DATABASE_URL=
PYTEST_TIMEOUT=60

# Production Resource Limits
MAX_WORKERS=4
WORKER_TIMEOUT=120
KEEP_ALIVE=5
MAX_CONNECTIONS=200

# Production Logging
LOG_FORMAT=json
LOG_FILE_ENABLED=true
LOG_ROTATION_ENABLED=true
LOG_RETENTION_DAYS=30
LOG_MAX_SIZE=100MB

# Production Performance
UVICORN_WORKERS=4
UVICORN_WORKER_CLASS=uvicorn.workers.UvicornWorker
UVICORN_MAX_REQUESTS=1000
UVICORN_MAX_REQUESTS_JITTER=50

# Production Caching
CACHE_TTL=3600
CACHE_MAX_SIZE=1000
ENABLE_RESPONSE_CACHING=true

# Production Database Connection Pool
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# Production Error Handling
SENTRY_DSN=your_production_sentry_dsn_here
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# Production Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30